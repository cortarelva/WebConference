<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-compatible" content="ie-edge">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" 
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css">
    <link rel="stylesheet" type="text/css" href="main.css">  
    <title>Document</title>
</head>
<body>
    <div class ="container-fluid">
        <div class="jumbotron">
            <h1 class="display-3">Participantes</h1>
            <p class="lead">Gestão de inscritos na WebConference</p>
            <hr class="my-2">
            <div id="divParticipant" class="container">
                <!--tabela de incritos-->
                <div class="table-responsive">
                    <table id="tblParticipants" class="table table-sm">
                        <!--dados da tabela gerados via javascript-->
                        const renderParticipants = async () => {
                            const urlBase = "https://fcawebbook.herokuapp.com"
                            const tblParticipants = document.getelemntById("tblParticipants")
                            let strHtml = '
                            <thead>
                                <tr><th class="w-100 text-center bg-warning" colspan="4"
                                Lista de Participantes></th>
                            </tr>
                            <tr class="bg-info">
                                <th class="w-2">#</th>
                                <th class="w-50">Nome</th>
                                <th class="w-38">Email</th>
                                <th class="w-10">Acções</th>
                            </tr>
                            </thead><tbody>'
                                const response = await fetch('${urlBase}/conferences/1/participants')
                                const participants =await response.json()
                                let i = 1
                                for (const participant of participants){
                                    strHtml +='
                                    <tr>
                                        <td>${i}</td>
                                        <td>${participant.nomeParticipant}</td>
                                        <td>$participant.idParticipant</td>
                                        <td><i id="${participant.idParticipant}" class="fas fa-trash-altremove"></i>
                                            const btnDelete = document.getElementByClassName("remove")
                                            for(let i = 0;i<btnDelete.length;i++) {
                                                btnDelete[i].addEventListener("click", () =>{

                                                    swal({
                                                        title:"Tem a certeza?",
                                                        text: "Não será possivel reverter a acção"
                                                        type:"warning",
                                                        showCancelButton: true,
                                                        confirmButtonColor:"#3085d6",
                                                        cancelButtonColor:"#d33",
                                                        cancleButtonText:"Cancelar",
                                                        confirmButtonText:"Remover"
                                                    }).the(asunc (result) =>{
                                                        if(result.value){
                                                            
                                                        }
                                                    })
                                                    }
                                                }
                                              })

                                            }
                                        </td>
                                    </tr>
                                    '
                                    i++
                                }
                            strHtml += '</tbody>'
                            tblParticipants.innerHTML = strHtml
                         }
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    
    
    
    
    
    
    
    <script src="js/participants.js"></script> 
</body>